(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7662:function(e,t,s){Promise.resolve().then(s.bind(s,7408))},7408:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var a=s(5001),r=s(8471),n=s(7190);function c(e){let{className:t}=e;return(0,a.jsxs)("svg",{className:(0,n.cn)("animate-spin","string"==typeof t&&t),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-20",cx:12,cy:12,r:10,stroke:"currentColor",strokeWidth:2}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",strokeWidth:2,d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}var o=s(4211),i=s(5445),l=s(3812),d=s(1452),u=s(6378),m=s(188),x=s(849);function f(){let{titleInView:e,setTitleInView:t,compose:s,code:f,error:p}=(0,i.default)(),h=(0,r.useRef)(null),g=(0,l.Y)(h,{margin:"0px 0px -100px 0px"}),[v,j]=(0,r.useState)(!1);(0,r.useEffect)(()=>{g!==e&&t(g)},[t,e,g]);let{register:b,handleSubmit:y,setFocus:N,formState:{errors:w,isSubmitting:k,isValid:E}}=(0,d.cI)({mode:"onChange",reValidateMode:"onChange"});return(0,r.useEffect)(()=>{function e(e){"/"!==e.key||"INPUT"===e.target.tagName||"SELECT"===e.target.tagName||"TEXTAREA"===e.target.tagName||e.target.isContentEditable||(e.preventDefault(),N("command"))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[N]),(0,r.useEffect)(()=>{k&&E?j(!0):j(!1)},[k,E]),(0,a.jsxs)("main",{className:(0,n.cn)(""),children:[(0,a.jsx)("header",{className:"flex min-h-[40vh] flex-col justify-center px-5 sm:min-h-[35vh] sm:px-8 lg:px-16",children:(0,a.jsx)("div",{className:"",children:(0,a.jsxs)("div",{className:"mx-auto max-w-lg space-y-8",children:[(0,a.jsx)("h1",{ref:h,className:"text-center text-4xl font-bold uppercase",children:o.J.name}),(0,a.jsx)("p",{className:"text-center text-lg",children:o.J.description})]})})}),(0,a.jsx)("div",{className:"px-5 sm:px-8 lg:px-16",children:(0,a.jsx)("form",{action:"#",method:"post",onSubmit:y(e=>s(e.command).finally(()=>j(!1))),className:"",children:(0,a.jsxs)("div",{className:"mx-auto max-w-lg space-y-4 px-2",children:[(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col gap-5"),children:[(0,a.jsxs)("label",{htmlFor:"command-input",className:"font-bold",children:["Enter Command to Generate `",(0,a.jsx)("em",{children:"docker-compose.yml"}),"` *"]}),(0,a.jsx)("input",{type:"text",id:"command-input",autoComplete:"off",...b("command",{required:"This field is required",pattern:{value:/^docker run .+$/i,message:"Enter a valid docker command starting with “docker run”"}}),placeholder:"(Press “/” to focus)",className:(0,n.cn)("flex-auto border border-zinc-500 bg-white px-4 py-2 text-zinc-950 placeholder-zinc-500 focus:border-zinc-950 focus:placeholder-zinc-400 focus:outline-none focus:ring-0 dark:border-zinc-400 dark:bg-zinc-600/60 dark:text-zinc-200 dark:focus:border-zinc-50")}),(0,a.jsx)("button",{type:"submit",className:"flex items-center justify-center space-x-4 bg-zinc-950 px-4 py-3 uppercase text-white transition-transform hover:-translate-y-0.5",disabled:v,children:v?(0,a.jsx)(c,{className:"h-4 w-auto"}):(0,a.jsxs)(r.Fragment,{children:[(0,a.jsx)(u.X2n,{className:"h-4 w-auto"}),(0,a.jsx)("span",{className:"",children:"Generate"})]})})]}),w.command&&(0,a.jsx)("p",{className:"text-red-500",children:w.command.message})]})})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"mx-auto max-w-lg space-y-4 px-2",children:[f&&(0,a.jsxs)("div",{className:"my-4 rounded border border-neutral-900 dark:border-neutral-800",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between bg-neutral-900 px-4 py-2 dark:bg-neutral-800",children:[(0,a.jsxs)("h2",{className:"flex max-w-[80%] items-center space-x-2",children:[(0,a.jsx)(x.Ypf,{className:"h-4 w-auto text-white","aria-hidden":!0}),(0,a.jsx)("span",{className:"text-neutral-400",children:"docker-compose.yaml"})]}),(0,a.jsx)(m.default,{value:f,className:(0,n.cn)("border-none text-neutral-300 opacity-50 hover:bg-transparent hover:opacity-100")})]}),(0,a.jsx)("pre",{className:"overflow-x-auto bg-neutral-900 px-2 py-4 !font-mono dark:bg-black sm:px-4",children:f})]}),p&&(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)("p",{className:"text-red-500",children:p.message}),(0,a.jsxs)("p",{className:"text-red-500",children:["Error code: ",p.code]})]})]})})]})}},188:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var a=s(5001),r=s(8471),n=s(7190);async function c(e,t){navigator.clipboard.writeText(e)}var o=s(7271);function i(e){let{value:t,className:s,src:i,...l}=e,[d,u]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{setTimeout(()=>{u(!1)},2e3)},[d]),(0,a.jsxs)("button",{className:(0,n.cn)("relative z-20 inline-flex h-8 items-center justify-center rounded-md border-neutral-200 p-2 text-sm font-medium text-neutral-900 transition-all hover:bg-neutral-100 focus:outline-none dark:text-neutral-100 dark:hover:bg-neutral-800",s),onClick:()=>{c(t,{component:i}),u(!0)},...l,children:[(0,a.jsx)("span",{className:"sr-only",children:"Copy"}),d?(0,a.jsx)(o.dZ6,{className:"h-4 w-auto"}):(0,a.jsx)(o.Bp4,{className:"h-4 w-auto"})]})}},4211:function(e,t,s){"use strict";s.d(t,{J:function(){return a}});let a={name:"compozify",url:"https://github.com/profclems/compozify",description:"Compozify is a simple (yet complicated) tool to generate a docker-compose.yml file from a docker run command.",links:{github:"https://github.com/profclems/compozify"}}},5445:function(e,t,s){"use strict";s.r(t),s.d(t,{StoreProvider:function(){return i},default:function(){return l}});var a=s(5001),r=s(8471),n=s(9593),c=s(530);let o=(0,r.createContext)({titleInView:!1,setTitleInView:()=>{},compose:async()=>{},code:void 0,menu:!1,setMenu:()=>{}});function i(e){let{children:t}=e,s=function(){let[e,t]=(0,r.useState)(!1);return(0,r.useEffect)(()=>t(!0),[]),e}(),[i,l]=(0,r.useState)(!1),[d,u]=(0,r.useState)(void 0),[m,x]=(0,r.useState)(!1),[f,p]=(0,r.useState)(void 0);(0,r.useEffect)(()=>{let e=setTimeout(()=>p(void 0),5e3);return()=>clearTimeout(e)},[f]);let h=(0,r.useCallback)(async e=>{try{let t=await fetch("/api/parse",{mode:"cors",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:e})});if(!t.ok)throw Error("Failed to generate response");let s=await t.json();u(s&&s.output?(0,c.Pz)(s.output):void 0)}catch(e){var t,s;switch(null===(s=(e instanceof Error?e:Error("Error creating catalog",{cause:{error:e}})).cause)||void 0===s?void 0:null===(t=s.res)||void 0===t?void 0:t.status){case 400:p({message:"Bad request",code:400});break;case 404:p({message:"Not found",code:404});break;case 500:p({message:"Internal server error",code:500});break;default:p({message:"Unknown error",code:0})}}},[]),g=(0,r.useMemo)(()=>({titleInView:i,setTitleInView:l,compose:h,code:d,menu:m,setMenu:x}),[d,h,i,m]);return s?(0,a.jsx)(o.Provider,{value:g,children:(0,a.jsx)(n.f,{attribute:"class",enableSystem:!0,defaultTheme:"system",children:t})}):null}function l(){return(0,r.useContext)(o)}},7190:function(e,t,s){"use strict";s.d(t,{cn:function(){return n}});var a=s(9754),r=s(1171);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m)((0,a.W)(...t))}}},function(e){e.O(0,[354,954,874,327,753,991,335,237,744],function(){return e(e.s=7662)}),_N_E=e.O()}]);